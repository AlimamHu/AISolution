<!DOCTYPE html>
<html>
<head>
  <title>SMTP.js Example</title>
</head>
<body>
  <h1>SMTP.js Example</h1>
  
  <form id="emailForm">
    <label for="sender">Sender:</label>
    <input type="text" id="sender" required><br><br>
    
    <label for="recipient">Recipient:</label>
    <input type="text" id="recipient" required><br><br>
    
    <label for="subject">Subject:</label>
    <input type="text" id="subject" required><br><br>
    
    <label for="body">Body:</label><br>
    <textarea id="body" rows="4" required></textarea><br><br>
    
    <input type="submit" value="Send Email">
  </form>

  <script src="https://smtpjs.com/v3/smtp.js"></script>
  <script>document.getElementById('emailForm').addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent form submission
    
    // Get form values
    const sender = document.getElementById('sender').value;
    const recipient = document.getElementById('recipient').value;
    const subject = document.getElementById('subject').value;
    const body = document.getElementById('body').value;
    
    // Create SMTP client
    const client = new SMTPClient({
      host: 'smpt.gmail.com',
      port: '587',
      secure: {
        useTLS: true,
      },
    });
    
    // Authenticate with the SMTP server
    client.auth({
      user: 'alimamhussain8619@gmail.com',
      pass: 'Prediction@99971#go',
    });
    
    // Send email
    client.send({
      from: sender,
      to: recipient,
      subject: subject,
      text: body,
    });
    
    // Event handlers
    client.on('message', function(message) {
      console.log('Email sent successfully!', message);
      alert('Email sent successfully!');
      document.getElementById('emailForm').reset();
    });
    
    client.on('error', function(err) {
      console.error('An error occurred:', err);
      alert('An error occurred. Please check the console for details.');
    });
  });
  </script>
</body>
</html>
